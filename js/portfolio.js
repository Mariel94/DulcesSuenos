$(document).ready(function(){
   ////////////////// BLANCOS //////////////////////////////// 
    $("#setEdredones").on("click",function(){
        document.cookie="subcategoria=Set de edredon" ;    
    });
      $("#cojinReflujo").on("click",function(){
          document.cookie="subcategoria=Cojin Anti Vuelco" ;    
      });
    $("#edredonCunaPortatil").on("click",function(){
          document.cookie="subcategoria=Edredon Cuna Portatil" ;    
      });
    $("#juegoCortinas").on("click",function(){
          document.cookie="subcategoria=Juego de Cortinas" ;    
      });
    $("#protectorImpermeable").on("click",function(){
          document.cookie="subcategoria=Protector Impermeable" ;    
      });
    $("#sabanitasCamiseta").on("click",function(){
          document.cookie="subcategoria=Sabanitas de Camiseta" ;    
      });
    
    ///////////////////COBERTORES/////////////////////////////
     $("#chiquiAlaska").on("click",function(){
        document.cookie="subcategoria=Chiqui Sack Alaska" ;    
    });
      $("#chiquiBordado").on("click",function(){
          document.cookie="subcategoria=Chiqui Sack Bordado" ;    
      });
    $("#cobertorAlaska").on("click",function(){
          document.cookie="subcategoria=Cobertor Alaska Cunero" ;    
      });
    $("#cobertorBordado").on("click",function(){
          document.cookie="subcategoria=Cobertor Bordado Cunero" ;    
      });
    $("#cobertorLigero").on("click",function(){
          document.cookie="subcategoria=Cobertor Ligero Cunero" ;    
      });
    ////////////////////DECORACION///////////////////////////
    $("#babyPuff").on("click",function(){
        document.cookie="subcategoria=Baby Puff" ;    
    });
      $("#bolsaLavanderia").on("click",function(){
          document.cookie="subcategoria=Bolsa de Lavanderia" ;    
      });
    $("#cambiador").on("click",function(){
          document.cookie="subcategoria=Cambiador" ;    
      });
    $("#cestoMultiusos").on("click",function(){
          document.cookie="subcategoria=Cesto Multiusos" ;    
      });
    $("#chiquiMascotas").on("click",function(){
          document.cookie="subcategoria=Chiqui Mascotas" ;    
      });
    $("#miniCunas").on("click",function(){
          document.cookie="subcategoria=Mini Cunas" ;    
      });
    $("#organizador").on("click",function(){
          document.cookie="subcategoria=Organizador" ;    
      });
    $("#playMat").on("click",function(){
          document.cookie="subcategoria=Play Mat" ;    
      });
    $("#playMatSupersoft").on("click",function(){
          document.cookie="subcategoria=Play Mat Supersoft" ;    
      });
    $("#portaPanales").on("click",function(){
          document.cookie="subcategoria=Porta Pañales" ;    
      });
    $("#respaldoDiversion").on("click",function(){
          document.cookie="subcategoria=Respaldo Diversion" ;    
      });
    //////////////////////////PASEO//////////////////////////
    $("#babyComfort").on("click",function(){
        document.cookie="subcategoria=Baby Comfort" ; 
    });
      $("#bambinetos").on("click",function(){
          document.cookie="subcategoria=Bambinetos" ; 
      });
    $("#bolsitas").on("click",function(){
          document.cookie="subcategoria=Bolsitas" ;   
      });
    $("#caminador").on("click",function(){
          document.cookie="subcategoria=Caminador" ;    
      });
    $("#camitaPortatil").on("click",function(){
          document.cookie="subcategoria=Camita Portatil" ;    
      });
    $("#cangurera").on("click",function(){
          document.cookie="subcategoria=Cangureras" ;
      });
    $("#carriolas").on("click",function(){
          document.cookie="subcategoria=Carriolas" ; 
      });
    $("#cojinCuello").on("click",function(){
          document.cookie="subcategoria=Cojin para Cuello" ;    
      });
    $("#chiquiBag").on("click",function(){
          document.cookie="subcategoria=Chiqui Bag" ; 
      });
    $("#coordinadoPortabebe").on("click",function(){
          document.cookie="subcategoria=Coordinado para Portabebe" ;    
      });
    $("#cunaPortatil").on("click",function(){
          document.cookie="subcategoria=Cuna Portatil" ;    
      });
    $("#mochilitas").on("click",function(){
          document.cookie="subcategoria=Mochilitas" ;
      });
    $("#panalera").on("click",function(){
          document.cookie="subcategoria=Pañaleras" ;   
      });
    $("#portabebes").on("click",function(){
          document.cookie="subcategoria=Portabebes" ; 
      });
    $("#cambiadorToallas").on("click",function(){
          document.cookie="subcategoria=Cambiador y Porta Toallas" ;    
      });
    $("#rebozos").on("click",function(){
          document.cookie="subcategoria=Rebozos" ;    
      });
    $("#sabanitaLactancia").on("click",function(){
          document.cookie="subcategoria=Sabanita de Lactancia" ;    
      });
    ////////////////////BASICOS////////////////////////////////
    $("#abrazables").on("click",function(){
        document.cookie="subcategoria=Abrazables" ;    
    });
      $("#almohaditas").on("click",function(){
          document.cookie="subcategoria=Almohaditas" ;    
      });
    $("#almohaditaJumbo").on("click",function(){
          document.cookie="subcategoria=Almohaditas Jumbo" ;    
      });
    $("#babyBouncer").on("click",function(){
          document.cookie="subcategoria=Baby Bouncer" ;    
      });
    $("#batitas").on("click",function(){
          document.cookie="subcategoria=Batitas" ;    
      });
    $("#batitaSupersoft").on("click",function(){
          document.cookie="subcategoria=Batitas Supersoft" ;    
      });
    $("#cojinDescanso").on("click",function(){
          document.cookie="subcategoria=Cojin de Descanso" ;    
      });
    $("#cojinMultiusos").on("click",function(){
          document.cookie="subcategoria=Cojin Multiusos" ;    
      });
    $("#colchonAntiReflujo").on("click",function(){
          document.cookie="subcategoria=Colchon Anti Reflujo" ;    
      });
    $("#costalitos").on("click",function(){
          document.cookie="subcategoria=Costalitos" ; 
      });
    $("#frazadaChiqui").on("click",function(){
          document.cookie="subcategoria=Frazada Chiqui Fleece" ;    
      });
    $("#frazadaLigera").on("click",function(){
          document.cookie="subcategoria=Frazada Ligera" ;    
      });
    $("#miPrimeraBatita").on("click",function(){
          document.cookie="subcategoria=Mi Primera Batita" ;    
      });
    $("#pantuflas").on("click",function(){
          document.cookie="subcategoria=Pantuflas" ;    
      });
    $("#pijamitas").on("click",function(){
          document.cookie="subcategoria=Pijamitas" ;    
      });
    $("#sabanitas").on("click",function(){
          document.cookie="subcategoria=Sabanitas para Bebe" ;    
      });
    $("#baberos").on("click",function(){
          document.cookie="subcategoria=Set de Baberos y Repetidor" ;    
      });
    $("#setSabanitas").on("click",function(){
          document.cookie="subcategoria=Set de Sabanitas" ;    
      });
    $("#setPanaleros").on("click",function(){
          document.cookie="subcategoria=Set de Panaleros" ;    
      });
    $("#setToallitas").on("click",function(){
          document.cookie="subcategoria=Set de Toallitas" ;    
      });
    $("#toallitas").on("click",function(){
          document.cookie="subcategoria=Toallitas" ;    
      });
    /////////////////////////////////////////////////////////
    
    var cookie = getCookie("subcategoria");
    var jsonToSend={
            "action" : "PRODUCTSBLANCOS",
            "subcategoria" : cookie
    };
    $.ajax({
        url : "data/applicationLayer.php",
        type : "POST",
        data : jsonToSend,
        dataType : "json",
        contentType : "application/x-www-form-urlencoded",
        success : function(jsonResponse){
            $("#subTitle").append(jsonResponse[0].Subcategoria);
            for(var i=0; i<jsonResponse.length; i++){
                $("#setEdredon").append("<div class='col s2 m6 l3'><div class='card'>"
                + "<div class='card-image'><a href=producto.html?id="+jsonResponse[i].ID+">"
                +"<img class='responsive-img' src='" 
                + jsonResponse[i].Imagen + "'/>"
                +"</a>"
                +"</div>"
                +"<div class='card-content'>"
                +"<span class='card-title'>" +jsonResponse[i].Nombre 
                +"<span><a class='purple-text' href='#!'><span class='idval'>"+jsonResponse[i].ID+"</span><i class='cora material-icons right' >favorite_border</i></a></span></span>"
                +"</div></div></div>");
                }
            
             $(".cora").on("click", function(){  
                var idArticulo = $(this).siblings('span').text(); 
                inserToWishlist(idArticulo);
            });
           
        },
        error : function(errorMessage){
        }
    });  
  
    function inserToWishlist(idArticulo){
        var jsonToSend={
            "action" : "INSERTTOWISHLIST",
            "idArticle" : idArticulo
        };
    $.ajax({
        url : "data/applicationLayer.php",
        type : "POST",
        data : jsonToSend,
        dataType : "json",
        contentType : "application/x-www-form-urlencoded",
        success : function(jsonResponse){
            alert("Artículo agregado exitosamente");
        },
        error : function(errorMessage){
        }
    });  
}
 
    function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i <ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}
});

////////////////////////////////////////////////////////////
function searchToggle(obj, evt){
    var container = $(obj).closest('.search-wrapper');
        if(!container.hasClass('active')){
            container.addClass('active');
            evt.preventDefault();
        }
        else if(container.hasClass('active') && $(obj).closest('.input-holder').length == 0){
            container.removeClass('active');
            // clear input
            container.find('.search-input').val('');
        }
}
/////////////////////////////////////////////
              